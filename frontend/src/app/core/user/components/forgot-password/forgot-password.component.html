<div class="container unselectable">
  <div class="title">Recuperar contraseña</div>
  <hr />
  <div class="content">
    <form
      [formGroup]="forgotPassword"
      (ngSubmit)="onSubmit()"
      autocomplete="off"
    >
      <div class="user-details">
        <mat-form-field
          class="input-box"
          appearance="outline"
          hideRequiredMarker="true"
        >
          <mat-label>Email</mat-label>
          <input
            matInput
            id="email"
            class="form-control"
            type="email"
            formControlName="email"
            placeholder="Email"
            [class.ng-invalid]="errorMessage"
          />
          <mat-error *ngIf="forgotPassword.get('email')?.errors?.required">
            El email es requerido.
          </mat-error>
          <mat-error *ngIf="forgotPassword.get('email')?.errors?.email">
            El email no es un email válido.
          </mat-error>
        </mat-form-field>
      </div>
      <mat-error *ngIf="errorMessage">
        {{ errorMessage }}
      </mat-error>
      <div class="button">
        <button type="submit" [disabled]="forgotPassword.pending">
          <ng-container
            *ngIf="!forgotPassword.pending && !pending; else loading"
          >
            Enviar Solicitud
          </ng-container>
          <ng-template #loading>
            <mat-spinner diameter="30"></mat-spinner>
          </ng-template>
        </button>
      </div>
    </form>
  </div>
</div>
